(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e1d3d0f8"],{"159d":function(e,t,a){},b433:function(e,t,a){"use strict";a("159d")},ce99:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-area",attrs:{id:"navbar-area"}},[a("Navbar")],1),a("div",{staticClass:"right-content"},[e._m(0),a("main",[a("form",{staticClass:"ml-2",staticStyle:{width:"60%"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("div",{staticClass:"form-group my-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],staticClass:"form-control",attrs:{type:"text",id:"account",name:"account",placeholder:"帳號",required:""},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]),a("div",{staticClass:"form-group my-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",placeholder:"Email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group my-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:"名稱",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._m(1),a("div",{staticClass:"password-group-wrapper"},[a("div",{staticClass:"form-group my-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{type:"password",id:"oldPassword",name:"oldPassword",placeholder:"舊密碼"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})]),a("div",{staticClass:"form-group my-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",id:"newPassword",name:"newPassword",placeholder:"新密碼"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),a("div",{staticClass:"form-group my-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkPassword,expression:"checkPassword"}],staticClass:"form-control",attrs:{type:"password",id:"checkPassword",name:"checkPassword",placeholder:"密碼確認"},domProps:{value:e.checkPassword},on:{input:function(t){t.target.composing||(e.checkPassword=t.target.value)}}})])]),e._m(2)])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upper-area"},[a("div",{staticClass:"upper-area-content"},[a("strong",[e._v("帳戶設定")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toggle-wrapper d-100"},[a("input",{staticClass:"password-toggle",attrs:{type:"radio",id:"password-toggle"}}),a("label",{staticClass:"password-toggle-label",attrs:{for:"password-toggle"}},[e._v("修改密碼")]),a("div",{staticClass:"down-arrow"},[e._v(">")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn-control d-flex justify-content-end"},[a("button",{staticClass:"btn btn-primary ml-auto save",attrs:{type:"submit"}},[e._v(" 儲存 ")])])}],o=(a("4160"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),n=a("5530"),i=a("d178"),c=a("4cce"),l=a("2fa3"),d=a("2f62"),u={name:"UserSetting",data:function(){return{account:"",email:"",name:"",oldPassword:"",newPassword:"",checkPassword:""}},computed:Object(n["a"])({},Object(d["b"])(["currentUser","isAuthenticated"])),components:{Navbar:i["a"]},methods:{fetchData:function(){this.account=this.currentUser.account,this.email=this.currentUser.email,this.name=this.currentUser.name},handleSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,r,o,n,i,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,s=e.target,r=new FormData(s),o=t.currentUser.id,n=["oldPassword","newPassword","checkPassword"],t.account&&t.email&&t.name){a.next=8;break}return l["a"].fire({icon:"error",title:"必填項目不能為空白"}),a.abrupt("return");case 8:return t.oldPassword&&t.newPassword&&t.checkPassword||n.forEach((function(e){r.delete(e)})),a.next=11,c["a"].updateUser(o,{formData:r});case 11:if(i=a.sent,"OK"===i.statusText){a.next=14;break}throw new Error(i.statusText);case 14:l["a"].fire({icon:"success",title:"已成功修改資料"}),t.fetchData(),t.$router.push({name:"main-tweets"}),a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](0),d=a.t0.response,l["a"].fire({icon:"error",title:d.data.message});case 23:case"end":return a.stop()}}),a,null,[[0,19]])})))()}},created:function(){this.fetchData()}},m=u,p=(a("b433"),a("2877")),w=Object(p["a"])(m,s,r,!1,null,"75f8a049",null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-e1d3d0f8.47fe2afd.js.map